<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.yedam.puppy.shopItem.service.ShopItemService">

	<resultMap id="ShopItemMap" type="co.yedam.puppy.shopItem.vo.ShopItemVO">
      <result property="itNo" column="it_no"/>
      <result property="shopNo" column="shop_no"/>
      <result property="itName" column="it_name"/>
      <result property="itBrand" column="it_brand"/>
      <result property="itCategory" column="it_category"/>
      <result property="itExplanText" column="it_explan_test"/>
      <result property="custPrice" column="cust_price"/>
      <result property="saveMoney" column="save_money"/>
      <result property="shippingCharge" column="shipping_charge"/>
      <result property="mainImg" column="main_img"/>
      <result property="subImg" column="sub_img"/>      
   </resultMap>

	<!-- 전체 상품 리스트 조회 -->
	<select id="shopItemList" resultMap="ShopItemMap">
		SELECT * FROM shop_item where shop_no = #{shopNo}
	</select>
	
	<!-- 상품 한건 조회 -->
	<select id="shopItemSelect" parameterType="co.yedam.puppy.shopItem.vo.ShopItemVO" 
	resultType="co.yedam.puppy.shopItem.vo.ShopItemVO">
		SELECT * FROM shop_item where it_no = {#itNo}
	</select>
	
	<!-- 상품 등록 -->
	<insert id="shopItemInsert" parameterType="co.yedam.puppy.shopItem.vo.ShopItemVO" >
		insert into shop_item values(
		item_seq.NEXTVAL,{#shopNo}, {#itNo}, {#itCategory}, {#itExplanText},{#custPrice},
		{#price}, {#saveMoney}, {#shippingCharge}, {#mainImg}, {#subImg})
	</insert>
	
	<!-- 상품 수정 -->
	<update id="shopItemUpdate" parameterType="co.yedam.puppy.shopItem.vo.ShopItemVO">
		update shop_item set it_name = {#itName} , it_category = {#itCategory} , it_explan_text = {#itExplanText} , cust_price = {#custPrice},
		price = {#price} , save_money = {#saveMoney} , shipping_charge = {#shippingCharge} , main_img = {#mainImg} , sub_img = {#subImg} 
		where it_no = {#itNo}
	</update>
	
	<!-- 상품 삭제 -->
	<delete id="shopItemDelete" parameterType="co.yedam.puppy.shopItem.vo.ShopItemVO">
		delete from shop_item where it_no = {#itNo}
	</delete>
	
</mapper>